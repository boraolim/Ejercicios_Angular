!function(){function l(l){l.when("/",{templateUrl:"views/page1.html",controller:"indexBlogController",controllerAs:"vm"}).when("/blogEliminado",{templateUrl:"views/page2.html",controller:"indexBlogEliminadoController",controllerAs:"vm"}).when("/blogAdd",{templateUrl:"views/page3.html",controller:"indexBlogController",controllerAs:"vm"}).when("/blogDetail/:blogId",{templateUrl:"views/page4.html",controller:"indexBlogController",controllerAs:"vm"}).when("/blogEdit/:blogId",{templateUrl:"views/page5.html",controller:"indexBlogController",controllerAs:"vm"}).otherwise({redirectTo:"/"})}l.$inject=["$routeProvider"],angular.module("indexModule",["ngRoute","ngAnimate","ngSanitize","ui.bootstrap","LocalStorageModule"]).config(l).run((function(){}))}();
angular.module("indexModule").directive("productsDetailsDirective",(function(){return{templateUrl:"./views/templates/products-details.template.html",restrict:"EA",scope:{title:"@",onchangetitle:"&"},controller:function(e){e.changeTitle=function(){title="Â¡El texto ha cambiado! Gracias por usar esta directiva de usuario de Angular JS y a la Pelikan.",e.onchangetitle()(title)}}}}));
angular.module("indexModule").directive("blogsDetailsDirective",(function(){return{templateUrl:"./views/templates/blogs-details.template.html",restrict:"EA",scope:{title:"@",blogs:"=",nombreusuario:"=",isactivo:"=",onchangetitle:"&"},controller:function(e,o,t,i,a){e.deleteBlog=function(l){var n=a.blogsNuevos.findIndex(e=>e.idComentario===l&&!1===e.flgEliminado);a.blogsNuevos[n].autorComentario=i.userName,a.blogsNuevos[n].fechaActualizacion=new Date,a.blogsNuevos[n].flgEliminado=!0;var s=a.blogsNuevos[n];window.alert("Has eliminado el mensaje: "+t("inputIdToText")(s.idComentario)),o.path("/").search({}),e.onchangetitle()(title,nombreusuario,isactivo)},e.changeTitle=function(){title="Vamos a capturar un nuevo blog.",blogs=a.blogsNuevos,nombreusuario=i.userName,isactivo=i.flgIsLogged,o.path("/blogAdd").search({}),e.onchangetitle()(title,nombreusuario,isactivo)}},controllerAs:"di"}}));
angular.module("indexModule").filter("inputboolToText",(function(){return function(e){switch(e){case!1:return"NO";default:return"SI"}}}));
angular.module("indexModule").filter("inputIdToText",(function(){return function(t){return t<=5?"A-00"+t.toString():t>=6&t<=10?10==t?"B-0"+t.toString():"B-00"+t.toString():"Z-0"+t.toString()}}));
angular.module("indexModule").factory("userService",(function(){var e=this;return e.flgIsLogged=!1,e.userName="",e.arryUsuarios=[{id:0,name:"Administrador"},{id:1,name:"Usuario 1"},{id:2,name:"Usuario 2"},{id:3,name:"Invitado"}],e.setIsLogged=function(r){return e.flgIsLogged=r,e.flgIsLogged},e.setUserName=function(r){return e.userName=r,e.userName},e.getIsLogged=function(){return e.flgIsLogged},e.getUserName=function(){return e.userName},e}));
!function(){function o(o){var t=this;return t.blogsNuevos=[],t.tipoProductos=[{id:0,name:"PoliciyCheck"},{id:1,name:"AutoCheck"},{id:2,name:"PostMaster"},{id:3,name:"EasyClaim"}],t.getBlogsActivos=function(){return o.post("/api/blogs/blogsall").then((function(o){t.blogsNuevos=o.data.Data})),t.blogsNuevos},t.getTiposProductos=function(){return t.tipoProductos},t}o.$inject=["$http"],angular.module("indexModule").factory("blogService",o)}();
angular.module("indexModule").controller("indexBsAlertController",(function(){var e=this;return e.alerts=[{type:"danger",msg:"Oh snap! Change a few things up and try submitting again."},{type:"success",msg:"Well done! You successfully read this important alert message."}],e.addAlert=function(){e.alerts.push({msg:"Another alert!"})},e.closeAlert=function(t){e.alerts.splice(t,1)},e.theChangeTitle=function(e){alert(e)},e}));
!function(){function n(n,t){return this.data=t,this.ok=function(){n.close("Ok")},this.cancel=function(){n.dismiss()},this}n.$inject=["$uibModalInstance","data"],angular.module("indexModule").controller("indexBsModalContentController",n)}();
!function(){function t(t){return this.tabs=[{title:"Dynamic Title 1",content:"Dynamic content 1"},{title:"Dynamic Title 2",content:"Dynamic content 2",disabled:!0}],this.model={name:"Tabs"},this.alertMe=function(){setTimeout((function(){t.alert("You've selected the alert tab!")}))},this}t.$inject=["$window"],angular.module("indexModule").controller("indexBsTabController",t)}();
angular.module("indexModule").controller("indexDropdownController",(function(){this.isCollapsed=!0,this.status={isopen:!1}}));
!function(){function n(n){var e=this;return e.model={msjEliminado:!1},e.open=function(){n.open({templateUrl:"views/page6.html",controller:"indexBsModalContentController",controllerAs:"pc",size:"",resolve:{data:function(){return e.model.msjEliminado}}}).result.then((function(n){}))},e}n.$inject=["$uibModal"],angular.module("indexModule").controller("indexController",n)}();
!function(){"use strict";function e(e,o,a){var r=this;return r.model={isLogged:!1,userName:"",arrayUsers:[]},r.loginUser=function(){var s="/api/users/authorization/"+r.model.userName;window.alert(s),o.post(s).then((function(s){if(!s.data.AccessToken)return window.alert(s.data.Message),!1;localStorage.clear(),localStorage.setItem("authtoken",s.data.AccessToken),o.defaults.headers.common.Authorization="Bearer "+s.data.AccessToken,r.model.isLogged=a.setIsLogged(!0),r.model.userName=a.setUserName(r.model.userName),e.path("/")}))},r.logoutUser=function(){localStorage.clear(),r.model.isLogged=a.setIsLogged(!1),r.model.userName=a.setUserName(""),e.path("/")},r.model.isLogged=a.flgIsLogged,r.model.userName=a.userName,r.model.arrayUsers=a.arryUsuarios,r}e.$inject=["$location","$http","userService"],angular.module("indexModule").controller("indexLoginController",e)}();
!function(){function o(o,e,t,l,i){var a=this;return a.model={lastId:0,userName:"",idParam:0,flgIsLogged:!1,nuevoBlog:[],blogObjeto:{idComentario:0,comentarioTxt:"",tipoComentario:"",nombreProducto:"",autorComentario:"",fechaAlta:"",fechaActualizacion:"",flgPrioritario:!1,flgAlta:!0,flgEdicion:!1,flgEliminado:!1,userName:"",isActivo:!1},arryNombreProducto:[],detailComentario:null},a.isActiveUser=r,a.isUserName=n,a.getTiposProductos=m,a.getBlogs=d,a.redirectToMain=g,a.redirectToAdd=function(){o.path("/blogAdd").search({})},a.agregarComentario=function(){a.model.lastId=i.blogsNuevos.length+1;var e=a.model.lastId,t={idComentario:e,comentarioTxt:a.model.blogObjeto.comentarioTxt,tipoComentario:a.model.blogObjeto.tipoComentario,nombreProducto:a.model.blogObjeto.nombreProducto,autorComentario:n(),flgPrioritario:a.model.blogObjeto.flgPrioritario,fechaAlta:new Date,fechaActualizacion:"",flgAlta:!0,flgEdicion:!1,flgEliminado:!1,userName:n(),isActivo:r()};a.model.lastId=e;$http.post("/api/blogs/agregablog",{comentarioBlog:obj.comentarioBlog,tipoComentario:obj.tipoComentario,nombreProducto:t.nombreProducto,flgAlta:t.flgAlta,autorComentario:obj.autorComentario}).then((function(e){if(!e.data.AccessToken)return window.alert(e.data.Message),!1;localStorage.clear(),localStorage.setItem("authtoken",e.data.AccessToken),$http.defaults.headers.common.Authorization="Bearer "+e.data.AccessToken,a.model.isLogged=l.setIsLogged(!0),a.model.userName=l.setUserName(a.model.userName),o.path("/")})),a.model.totalRows=i.blogsNuevos.length,g()},a.eliminarComentario=function(o){var t=i.blogsNuevos.findIndex(e=>e.idComentario===o&&!1===e.flgEliminado);i.blogsNuevos[t].autorComentario=n(),i.blogsNuevos[t].fechaActualizacion=new Date,i.blogsNuevos[t].flgEliminado=!0;var l=i.blogsNuevos[t];a.model.totalRows=i.blogsNuevos.length,window.alert("Has eliminado el mensaje: "+e("inputIdToText")(l.idComentario)),g()},a.mostrarComentario=b,a.actualizarComentario=function(o){var e=i.blogsNuevos.findIndex(e=>e.idComentario===o);i.blogsNuevos[e].comentarioTxt=a.model.blogObjeto.comentarioTxt,i.blogsNuevos[e].tipoComentario=a.model.blogObjeto.tipoComentario,i.blogsNuevos[e].nombreProducto=a.model.blogObjeto.nombreProducto,i.blogsNuevos[e].autorComentario=a.model.blogObjeto.autorComentario,i.blogsNuevos[e].flgPrioritario=a.model.blogObjeto.flgPrioritario,i.blogsNuevos[e].fechaActualizacion=new Date,i.blogsNuevos[e].flgEdicion=!1,g()},a.theChangeTitle=function(o,e,t){},a.model.lastId=0,a.model.flgIsLogged=r(),a.model.userName=n(),a.model.nuevoBlog=d(),a.model.arryNombreProducto=m(),a.model.totalRows=0,a.model.blogObjeto.idComentario=0,a.model.blogObjeto.comentarioTxt="",a.model.blogObjeto.tipoComentario="Publico",a.model.blogObjeto.nombreProducto="",a.model.blogObjeto.autorComentario=n(),a.model.blogObjeto.fechaAlta=new Date,a.model.blogObjeto.fechaActualizacion="",a.model.blogObjeto.flgPrioritario=!1,a.model.blogObjeto.flgAlta=!0,a.model.blogObjeto.flgEdicion=!1,a.model.blogObjeto.flgEliminado=!1,a.model.blogObjeto.isActivo=!1,a.model.blogObjeto.userName="",void 0!==t.blogId&a.model.flgIsLogged&&b(parseInt(t.blogId)),a;function r(){return l.flgIsLogged}function n(){return l.userName}function m(){return i.tipoProductos}function d(){return i.blogsNuevos}function g(){o.path("/").search({})}function b(o){var e=i.blogsNuevos.findIndex(e=>e.idComentario===o&&!1===e.flgEliminado),t=i.blogsNuevos[e];a.model.blogObjeto.idComentario=t.idComentario,a.model.blogObjeto.comentarioTxt=t.comentarioTxt,a.model.blogObjeto.tipoComentario=t.tipoComentario,a.model.blogObjeto.flgPrioritario=t.flgPrioritario,a.model.blogObjeto.flgAlta=!1,a.model.blogObjeto.flgEdicion=!0,a.model.blogObjeto.flgEliminado=!1,a.model.blogObjeto.nombreProducto=t.nombreProducto,a.model.blogObjeto.autorComentario=t.autorComentario}}o.$inject=["$location","$filter","$routeParams","userService","blogService"],angular.module("indexModule").controller("indexBlogController",o)}();
!function(){function o(o,e,l){var n=this;return n.model={lastId:0,userName:"",flgIsLogged:!1,eliminadoBlog:[]},n.isActiveUser=i,n.isUserName=r,n.getBlogs=t,n.redirectToMain=a,n.restaurarComentario=function(o){var e=l.blogsNuevos.findIndex(e=>e.idComentario===o&&!0===e.flgEliminado);l.blogsNuevos[e].autorComentario=r(),l.blogsNuevos[e].fechaActualizacion=new Date,l.blogsNuevos[e].flgEliminado=!1,a()},n.model.lastId=0,n.model.userName=r(),n.model.flgIsLogged=i(),n.model.eliminadoBlog=t(),n.model.totalRows=0,n;function i(){return e.flgIsLogged}function r(){return e.userName}function t(){return l.blogsNuevos}function a(){o.path("/").search({})}}o.$inject=["$location","userService","blogService"],angular.module("indexModule").controller("indexBlogEliminadoController",o)}();